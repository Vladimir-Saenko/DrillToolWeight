(function(){var t=function(){var t={},e={exports:t};(function(n,r){"use strict";var i,o=false,a=true,s=1,u=true,f={},l=f.toString,c=typeof e!=="undefined"&&e.exports,h=this===n,v;for(var p in{toString:1})u=null;if(u)u=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];Function.prototype.overloadSetter=function(t){var e=this;return function(n,r){if(n==null)return this;if(t||typeof n!=="string"){for(var i in n)e.call(this,i,n[i]);if(u)for(var o=u.length;o--;){i=u[o];if(n.hasOwnProperty(i))e.call(this,i,n[i])}}else{e.call(this,n,r)}return this}};Function.prototype.implement=function(t,e){this.prototype[t]=e}.overloadSetter();Function.implement({extend:function(t,e){this[t]=e}.overloadSetter(),overloadGetter:function(t){var e=this;return function(n){var r,i;if(typeof n!=="string")r=n;else if(arguments.length>1)r=arguments;else if(t)r=[n];if(r){i={};for(var o=0;o<r.length;o++)i[r[o]]=e.call(this,r[o])}else{i=e.call(this,n)}return i}},traversalSetter:function(t){var e=this;return function(n,r,i){if(n==null||r==null)return n||this;if(!n.length&&!n.nodeType)n=[n];for(var o=0,a=n.length;o<a;o++){if(t||typeof r!=="string"){for(var s in r)e.call(this,n[o],s,r[s])}else{e.call(this,n[o],r,i)}}return n.length?n:n[0]}}});var d=/^\.*\/?(.*?)(\.*(js|css|node|$))/;var m=/^[a-z]?/;var g=/\.+/g;v=function(e,n){n=n||e;if(typeof e!=="string")e="";if(typeof define==="function"&&(define.amd||define.cmd)){define(n)}else if(typeof t!=="undefined"){var r=n(require,t,s);if(typeof r==="undefined")return;if(c)t=s.exports=r;if(e)t[e.substring(e.lastIndexOf(".")+1)]=r}else{var o=e.split(".");var a=i;var s={};var require=function(t){t=t.replace(d,"$1").replace(g,"/").split("/");var e,n;for(var r=0,o=t.length;r<o;r++){n=t[r];if(i[n])e=i[n];else if(e&&e[n])e=e[n]}if(!e)e=i[n.replace(m,function(t){return t.toUpperCase()})];return e||i};for(var u=0,f=o.length-1;u<=f;u++){var l=o[u];var h=u<f?{}:n(require,s.exports={},s);if(typeof a[l]==="undefined"){a[l]=h||s.exports}a=a[l]}}};v.extend({global:n,version:"0.0.5",noop:function(){},type:function(t){if(t==null)return String(t);return typeof t==="object"||typeof t==="function"?f[l.call(t)]||y(t)||"object":typeof t},log:function(){if(o&&n["console"]!==r&&console.log){console.log.apply(console,arguments)}},warn:function(){if(!a&&n["console"]!==r&&console.warn){console.warn.apply(console,arguments);if(o&&console.trace)console.trace()}},error:function(t,e){if(o)throw new(e||Error)(t)},uidOf:function(t){return t.uniqueNumber||(t.uniqueNumber=s++)},isEnumerable:function(t){return t!=null&&typeof t!=="string"&&typeof t.length==="number"&&l.call(t)!=="[object Function]"}});"Boolean,Number,String,Function,Array,Date,RegExp,Object,Error,Arguments,Window".replace(/[^,]+/g,function(t){f["[object "+t+"]"]=t.toLowerCase()});(function(){var t=arguments;var e=function(t,e){if(this[t]==null)this[t]=e}.overloadSetter();var n=function(t,e){if(this.prototype[t]==null)this.prototype[t]=e}.overloadSetter();for(var r=0,i=t.length,o;r<i;r++){o=t[r];o.extend=e;o.implement=n}})(Array,String,Function,Date,Object,v);function y(t){if(t===t.window)return"window";if(t.nodeName){if(t.nodeType===1)return"element";if(t.nodeType===9)return"document";if(t.nodeType===3)return/\S/.test(t.nodeValue)?"textnode":"whitespace"}else if(typeof t.length==="number"){if("callee"in t)return"arguments";if("item"in t)return"collection"}}if(c)t=e.exports=v;if(!h)n["adam"]=v;if(!this["adam"])this["adam"]=v;i=this.adam||n}).call(typeof t!=="undefined"?t:this,this);return e.exports}();var e=function(){var e={},n={exports:e};var r=t;var i=/^(array|arguments|collection)$/;var o=function(t,e){if(t==null)return function(t){return t};switch(typeof t){case"function":return typeof e==="undefined"?t:function(n,r,i){return t.call(e,n,r,i)};case"string":case"number":return function(e){return e[t]}}};var a=[].slice;n.exports={slice:function(t,e,n){return a.call(t,e,n)},last:function(t){return t.length?t[t.length-1]:null},append:function(t,e){t.push.apply(t,e);return t},insert:function(t,e){if(!~t.indexOf(e))t.push(e);return t},empty:function(t){t.length=0;return t},combine:function(t,e){for(var n=0,r=e.length;n<r;n++)this.insert(t,e[n]);return t},flatten:function(t){var e=[];for(var n=0,o=t.length;n<o;n++){var a=t[n];if(a==null)continue;e=e.concat(i.test(r.type(a))||a instanceof Array?this.flatten(a):a)}return e},range:function(t,e,n){if(e==null){e=t||0;t=0}n=n||1;var r=[],i=t;while(i<e){r.push(i);i+=n}return r},unique:function(t){return this.combine([],t)},union:function(){var t=[];Array.from(arguments).forEach(function(e){this.combine(t,e)},this);return t},without:function(t){var e=this.slice(arguments,1);return t.filter(function(t){return e.indexOf(t)===-1})},shuffle:function(t){for(var e=t.length;e&&--e;){var n=t[e],r=Math.floor(Math.random()*(e+1));t[e]=t[r];t[r]=n}return t},sortBy:function(t,e,n){var r=o(e,n);return t.sort(function(t,e){t=r(t);e=r(e);return t<e?-1:t>e?1:0})},groupBy:function(t,e,n){var r={};var i=o(e,n);t.forEach(function(t){var e=i(t);if(!(e in r))r[e]=[];r[e].push(t)});return r},countBy:function(t,e,n){var r={};var i=o(e,n);t.forEach(function(t){var e=i(t);if(!(e in r))r[e]=0;r[e]++});return r}};return n.exports}();var n=function(){var n={},r={exports:n};var i=t;var o=e.slice;var a=Object.prototype.hasOwnProperty;function s(t){switch(i.type(t)){case"array":return u(t);case"object":return f(t);default:return t}}function u(t){var e=t.length,n=new Array(e);while(e--)n[e]=s(t[e]);return n}function f(t){var e={};for(var n in t)e[n]=s(t[n]);return e}function l(t){return t.length!==+t.length}function c(t){return l(t)?h(t):Array.from(t)}function h(t){var e=[];for(var n in t){if(a.call(t,n))e.push(t[n])}return e}r.exports={clone:s,each:function(t,e,n){if(t!=null){if(l(t)){for(var r in t){if(a.call(t,r))e.call(n,t[r],r,t)}}else{for(var i=0,o=t.length;i<o;i++){if(i in t)e.call(n,t[i],i,t)}}}return t},map:function(t,e,n){if(t==null)return[];if(l(t)){var r={};for(var i in t){if(a.call(t,i))r[i]=e.call(n,t[i],i,t)}return r}return Array.from(t,e,n)},find:function(t,e,n){if(t!=null){if(l(t)){for(var r in t){var i=t[r];if(a.call(t,r)&&e.call(n,i,r,t))return i}}else{return Array.from(t).find(e,n)}}},filter:function(t,e,n){if(t==null)return[];if(l(t)){var r={};for(var i in t){var o=t[i];if(a.call(t,i)&&e.call(n,o,i,t))r[i]=o}return r}return Array.from(t).filter(e,n)},some:function(t,e,n){if(t==null)return false;if(l(t)){for(var r in t){if(a.call(t,r)&&e.call(n,t[r],r))return true}return false}return Array.from(t).some(e,n)},every:function(t,e,n){if(t==null)return true;if(l(t)){for(var r in t){if(a.call(t,r)&&!e.call(n,t[r],r))return false}return true}return Array.from(t).every(e,n)},reduce:function(t,e,n){if(t==null)return n;if(l(t)){for(var r in t){var i=t[r];if(a.call(t,r))n=n===void 0?i:e.call(null,n,i,r,t)}return n}var s=o(arguments,1);return[].reduce.apply(Array.from(t),s)},erase:function(t,e){if(t!=null){if(l(t)){for(var n in t){if(a.call(t,n)&&t[n]===e)delete t[n]}}else{for(var r=t.length;r--;){if(t[r]===e)t.splice(r,1)}}}return t},invoke:function(t,e){var n=o(arguments,2);return this.map(t,function(t){return t[e].apply(t,n)})},pluck:function(t,e){return this.map(t,function(t){return t[e]})},min:function(t,e,n){if(t==null)return t;var r=c(t);if(!e)return Math.min.apply(null,r);var i,o,a=Infinity,s,u=-1,f=r.length;while(++u<f){o=r[u];s=e.call(n,o,u,r);if(s<a){a=s;i=o}}return i},max:function(t,e,n){if(t==null)return t;var r=c(t);if(!e)return Math.max.apply(null,r);var i,o,a=-Infinity,s,u=-1,f=r.length;while(++u<f){o=r[u];s=e.call(n,o,u,r);if(s>a){a=s;i=o}}return i},contains:function(t,e,n){if(t==null)return false;return c(t).indexOf(e,n)!==-1},compact:function(t){return this.filter(t,function(t){return t!=null})},size:function(t){if(t==null)return 0;return l(t)?Object.keys(t).length:t.length}};return r.exports}();var r=function(){var e={},n={exports:e};var r=t;var i=/\{\s*\[native code\]\s*\}/;var o=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;var a=typeof JSON!=="undefined";var s={},u=[].slice,f=s.toString,l=s.hasOwnProperty;function c(t){return t!=null&&typeof t!=="string"&&typeof t.length==="number"&&f.call(t)!=="[object Function]"}n.exports={typecast:function(t){if(t==null)return t;if(typeof t==="string"){return t==="null"?null:t==="undefined"?undefined:t==="true"?true:t==="false"?false:+t+""===t?+t:o.test(t)&&a?JSON.parse(t):t}},isWindow:function(t){return t!=null&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isPlainObject:function(t){if(!t||r.type(t)!=="object"||t.nodeType||this.isWindow(t))return false;try{if(t.constructor&&!l.call(t.constructor.prototype,"isPrototypeOf"))return false}catch(e){return false}return true},isEmptyObject:function(t){for(var e in t)return false;return true},isNativeCode:function(t){return i.test(""+t)},toArray:function(t){if(t==null)return[];return c(t)?Array.isArray(t)?t:u.call(t):[t]},toNumber:function(t){var e=parseFloat(t);return isFinite(e)?e:null},toString:function(t){return t==null?"":t.toString()}};return n.exports}();var i=function(){var e={},i={exports:e};var o=t;var a=n.clone;var s=r.toArray;var u=Object.prototype.hasOwnProperty;function f(t,e,n){switch(o.type(n)){case"object":if(o.type(t[e])==="object")l(t[e],n);else t[e]=a(n);break;case"array":t[e]=a(n);break;default:t[e]=n}return t}function l(t,e,n){if(typeof e==="string")return f(t,e,n);for(var r=1,i=arguments.length;r<i;r++){var o=arguments[r];for(var a in o)f(t,a,o[a])}return t}i.exports={merge:l,dict:function(t,e){var n=o.type(t),r={};if(n==="object")return t;if(n==="string")t=t.split(/[, ]+/);e=e==null?1:e;s(t).forEach(function(t){r[t]=e});return r},pick:function(t){var e={},n=this.flatten(arguments).slice(1);for(var r=0,i=n.length;r<i;r++){var o=n[r];if(o in t)e[o]=t[o]}return e},omit:function(t){var e=[],n=this.flatten(arguments).slice(1);for(var r in t){if(u.call(t,r)&&n.indexOf(r)===-1)e.push(r)}return this.pick(t,e)},values:function(t){var e=[];for(var n in t){if(u.call(t,n))e.push(t[n])}return e},keyOf:function(t,e){for(var n in t){if(u.call(t,n)&&t[n]===e)return n}return null}};return i.exports}();var o=function(){var e={},o={exports:e};var a=t;var s=i.merge;var u=n.clone;var f=r.toArray;var l=function(t){var e=function(){h(this);if(e.$prototyping)return this;this.$caller=null;var t=this.initialize?this.initialize.apply(this,arguments):this;this.$caller=this.caller=null;return t}.extend(this).implement(m(t));e.extend=p;e.$constructor=l;e.prototype.$constructor=e;e.prototype.parent=c;return e};var c=function(){if(!this.$caller)throw new Error('The method "parent" cannot be called.');var t=this.$caller.$name,e=this.$caller.$owner.parent,n=e?e.prototype[t]:null;if(!n)throw new Error('The method "'+t+'" has no parent.');return n.apply(this,arguments)};var h=function(t){for(var e in t){var n=t[e];switch(a.type(n)){case"object":var r=function(){};r.prototype=n;t[e]=h(new r);break;case"array":t[e]=u(n);break}}return t};var v=function(t,e,n){if(n.$origin)n=n.$origin;var r=function(){if(n.$protected&&this.$caller==null)throw new Error('The method "'+e+'" cannot be called.');var t=this.caller,i=this.$caller;this.caller=i;this.$caller=r;var o=n.apply(this,arguments);this.$caller=i;this.caller=t;return o}.extend({$owner:t,$origin:n,$name:e});return r};var p=function(t){return new l(s({Extends:this},m(t)))};var d=function(t,e,n){if(l.Mutators.hasOwnProperty(t)){e=l.Mutators[t].call(this,e);if(e==null)return this}if(typeof e==="function"){if(e.$hidden)return this;this.prototype[t]=n?e:v(this,t,e)}else{s(this.prototype,t,e)}return this};var m=function(t){if(t instanceof Function)t={initialize:t};return t||{}};var g=function(t){t.$prototyping=true;var e=new t;delete t.$prototyping;return e};l.implement("implement",d.overloadSetter());l.Mutators={Extends:function(t){this.parent=t;this.prototype=g(t)},Implements:function(t){f(t).forEach(function(t){var e=new t;for(var n in e)d.call(this,n,e[n],true)},this)}};o.exports=l;return o.exports}();var a=function(){var n={},r={exports:n};var i=t;var a=e;var s=o;var u=function(t){return t.replace(/^on([A-Z])/,function(t,e){return e.toLowerCase()})};var f=new s({$events:{},on:function(t,e){t=u(t);this.$events[t]=a.insert(this.$events[t]||[],e);return this}.overloadSetter(),emit:function(t,e){t=u(t);var n=this.$events[t];if(!n)return this;e=i.type(e)==="arguments"?Array.from(e):a.slice(arguments,1);n.forEach(function(t){t.apply(this,e)},this);return this},off:function(t,e){var n,r;if(i.type(t)==="object"){for(n in t)this.off(n,t[n]);return this}if(t)n=u(t);if(typeof e==="function"){t=this.$events[n];if(t){var o=t.indexOf(e);if(o!==-1)delete t[o]}return this}if(arguments.length>0){r=[n];for(var a=1,s=arguments.length;a<s;a++){r.push(u(arguemnts[a]))}}for(n in this.$events){if(r&&r.indexOf(n)===-1)continue;delete this.$events[n]}return this}});r.exports=f;return r.exports}();var s=function(){var t={},e={exports:t};var n=o;var r=i.merge;var a=new n({setOptions:function(){var t=this.options=r.apply(null,[{},this.options].concat(Array.from(arguments)));if(this.on)for(var e in t){if(typeof t[e]!=="function"||!/^on[A-Z]/.test(e))continue;this.on(e,t[e]);delete t[e]}return this}});e.exports=a;return e.exports}();var u=function(){var t={},e={exports:t};var n=o;var r=a;var i=s;var u=new n({Implements:[r,i],initialize:function(t){this.setOptions(t)},destroy:function(){this.off()}});e.exports=u;return e.exports}();var f=function(){var t={},e={exports:t};(function(n,r){"use strict";var i,o=false,a=true,s=1,u=true,f={},l=f.toString,c=typeof e!=="undefined"&&e.exports,h=this===n,v;for(var p in{toString:1})u=null;if(u)u=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];Function.prototype.overloadSetter=function(t){var e=this;return function(n,r){if(n==null)return this;if(t||typeof n!=="string"){for(var i in n)e.call(this,i,n[i]);if(u)for(var o=u.length;o--;){i=u[o];if(n.hasOwnProperty(i))e.call(this,i,n[i])}}else{e.call(this,n,r)}return this}};Function.prototype.implement=function(t,e){this.prototype[t]=e}.overloadSetter();Function.implement({extend:function(t,e){this[t]=e}.overloadSetter(),overloadGetter:function(t){var e=this;return function(n){var r,i;if(typeof n!=="string")r=n;else if(arguments.length>1)r=arguments;else if(t)r=[n];if(r){i={};for(var o=0;o<r.length;o++)i[r[o]]=e.call(this,r[o])}else{i=e.call(this,n)}return i}},traversalSetter:function(t){var e=this;return function(n,r,i){if(n==null||r==null)return n||this;if(!n.length&&!n.nodeType)n=[n];for(var o=0,a=n.length;o<a;o++){if(t||typeof r!=="string"){for(var s in r)e.call(this,n[o],s,r[s])}else{e.call(this,n[o],r,i)}}return n.length?n:n[0]}}});var d=/^\.*\/?(.*?)(\.*(js|css|node|$))/;var m=/^[a-z]?/;var g=/\.+/g;v=function(e,n){n=n||e;if(typeof e!=="string")e="";if(typeof define==="function"&&(define.amd||define.cmd)){define(n)}else if(typeof t!=="undefined"){var r=n(require,t,s);if(typeof r==="undefined")return;if(c)t=s.exports=r;if(e)t[e.substring(e.lastIndexOf(".")+1)]=r}else{var o=e.split(".");var a=i;var s={};var require=function(t){t=t.replace(d,"$1").replace(g,"/").split("/");var e,n;for(var r=0,o=t.length;r<o;r++){n=t[r];if(i[n])e=i[n];else if(e&&e[n])e=e[n]}if(!e)e=i[n.replace(m,function(t){return t.toUpperCase()})];return e||i};for(var u=0,f=o.length-1;u<=f;u++){var l=o[u];var h=u<f?{}:n(require,s.exports={},s);if(typeof a[l]==="undefined"){a[l]=h||s.exports}a=a[l]}}};v.extend({global:n,version:"0.0.5",noop:function(){},type:function(t){if(t==null)return String(t);return typeof t==="object"||typeof t==="function"?f[l.call(t)]||y(t)||"object":typeof t},log:function(){if(o&&n["console"]!==r&&console.log){console.log.apply(console,arguments)}},warn:function(){if(!a&&n["console"]!==r&&console.warn){console.warn.apply(console,arguments);if(o&&console.trace)console.trace()}},error:function(t,e){if(o)throw new(e||Error)(t)},uidOf:function(t){return t.uniqueNumber||(t.uniqueNumber=s++)},isEnumerable:function(t){return t!=null&&typeof t!=="string"&&typeof t.length==="number"&&l.call(t)!=="[object Function]"}});"Boolean,Number,String,Function,Array,Date,RegExp,Object,Error,Arguments,Window".replace(/[^,]+/g,function(t){f["[object "+t+"]"]=t.toLowerCase()});(function(){var t=arguments;var e=function(t,e){if(this[t]==null)this[t]=e}.overloadSetter();var n=function(t,e){if(this.prototype[t]==null)this.prototype[t]=e}.overloadSetter();for(var r=0,i=t.length,o;r<i;r++){o=t[r];o.extend=e;o.implement=n}})(Array,String,Function,Date,Object,v);function y(t){if(t===t.window)return"window";if(t.nodeName){if(t.nodeType===1)return"element";if(t.nodeType===9)return"document";if(t.nodeType===3)return/\S/.test(t.nodeValue)?"textnode":"whitespace"}else if(typeof t.length==="number"){if("callee"in t)return"arguments";if("item"in t)return"collection"}}if(c)t=e.exports=v;if(!h)n["adam"]=v;if(!this["adam"])this["adam"]=v;i=this.adam||n}).call(typeof t!=="undefined"?t:this,this);return e.exports}();var l=function(){var t={},e={exports:t};var n=f.global;var r=n.document;var i=r.documentElement||r.getElementsByTagName[0];var o={trident:"ie",crios:"chrome"};var a=function(t,e){t=(t||navigator.userAgent).toLowerCase();e=(e||navigator.platform).toLowerCase();var n=t.match(/(opera|ie|firefox|chrome|trident|crios|version)[\s\/:]([\w\d\.]+)?.*?(safari|(?:rv[\s\/:]|version[\s\/:])([\w\d\.]+)|$)/)||[null,"unknown",0],i=o[n[1]]||n[1],a=i==="ie"&&r.documentMode;return{extend:Function.prototype.extend,browser:i==="version"?n[3]:i,version:a||parseFloat(n[1].match(/(trident|opera)/)&&n[4]?n[4]:n[2]),engine:(t.match(/(trident|gecko|webkit|presto)/)||[i==="ie"&&"trident"||"unknown"])[0],platform:t.match(/ip(?:ad|od|hone)/)?"ios":(t.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||["unknown"])[0]}};var s=a();s[s.browser]=true;s[s.browser+parseInt(s.version,10)]=true;s[s.platform]=true;s[s.engine]=true;s.parse=a;s.exec=function(t){if(!t)return t;if(n.execScript){n.execScript(t)}else{var e=r.createElement("script");e.setAttribute("type","text/javascript");e.text=t;i.appendChild(e);i.removeChild(e)}return t};e.exports=s;return e.exports}();var c=function(){var t={},e={exports:t};var n=l;t.ltIE10=n.ie&&n.version<10;t.jvDomainTransform=function(t){var e=window.location.href||"";if(e.indexOf("aliexpress.ru")>-1||e.indexOf("tmall.ru")>-1){t=t.replace("aliexpress.com","aliexpress.ru")}return t};return e.exports}();var h=function(){var t={},e={exports:t};(function(n,r){if(typeof define==="function"&&define.amd){define([],r)}else if(typeof t==="object"){e.exports=r()}else{n.Flipsnap=r()}})(this,function(){var t=document.createElement("div");var e=["webkit","moz","o","ms"];var n={};var r=f.support={};var i=false;var o=5;var a=55;r.transform3d=c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);r.transform=c(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);r.transition=c(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]);r.addEventListener="addEventListener"in window;r.mspointer=window.navigator.msPointerEnabled;r.cssAnimation=(r.transform3d||r.transform)&&r.transition;var s=["touch","mouse"];var u={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};if(r.addEventListener){document.addEventListener("gesturestart",function(){i=true});document.addEventListener("gestureend",function(){i=false})}function f(t,e){return this instanceof f?this.init(t,e):new f(t,e)}f.prototype.init=function(t,e){var n=this;n.element=t;if(typeof t==="string"){n.element=document.querySelector(t)}if(!n.element){throw new Error("element not found")}if(r.mspointer){n.element.style.msTouchAction="pan-y"}e=e||{};n.distance=e.distance;n.maxPoint=e.maxPoint;n.disableTouch=e.disableTouch===undefined?false:e.disableTouch;n.disable3d=e.disable3d===undefined?false:e.disable3d;n.transitionDuration=e.transitionDuration===undefined?"350ms":e.transitionDuration+"ms";n.threshold=e.threshold||0;n.currentPoint=0;n.currentX=0;n.animation=false;n.timerId=null;n.use3d=r.transform3d;if(n.disable3d===true){n.use3d=false}if(r.cssAnimation){n._setStyle({transitionProperty:v("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:n._getTranslate(0)})}else{n._setStyle({position:"relative",left:"0px"})}n.refresh();s.forEach(function(t){n.element.addEventListener(u.start[t],n,false)});return n};f.prototype.handleEvent=function(t){var e=this;switch(t.type){case u.start.touch:e._touchStart(t,"touch");break;case u.start.mouse:e._touchStart(t,"mouse");break;case u.move.touch:e._touchMove(t,"touch");break;case u.move.mouse:e._touchMove(t,"mouse");break;case u.end.touch:e._touchEnd(t,"touch");break;case u.end.mouse:e._touchEnd(t,"mouse");break;case"click":e._click(t);break}};f.prototype.refresh=function(){var t=this;t._maxPoint=t.maxPoint===undefined?function(){var e=t.element.childNodes,n=-1,r=0,i=e.length,o;for(;r<i;r++){o=e[r];if(o.nodeType===1){n++}}return n}():t.maxPoint;if(t.distance===undefined){if(t._maxPoint<0){t._distance=0}else{t._distance=t.element.scrollWidth/(t._maxPoint+1)}}else{t._distance=t.distance}t._maxX=-t._distance*t._maxPoint;t.moveToPoint()};f.prototype.hasNext=function(){var t=this;return t.currentPoint<t._maxPoint};f.prototype.hasPrev=function(){var t=this;return t.currentPoint>0};f.prototype.toNext=function(t){var e=this;if(!e.hasNext()){return}e.moveToPoint(e.currentPoint+1,t)};f.prototype.toPrev=function(t){var e=this;if(!e.hasPrev()){return}e.moveToPoint(e.currentPoint-1,t)};f.prototype.moveToPoint=function(t,e){var n=this;e=e===undefined?n.transitionDuration:e+"ms";var i=n.currentPoint;if(t===undefined){t=n.currentPoint}if(t<0){n.currentPoint=0}else if(t>n._maxPoint){n.currentPoint=n._maxPoint}else{n.currentPoint=parseInt(t,10)}if(r.cssAnimation){n._setStyle({transitionDuration:e})}else{n.animation=true}n._setX(-n.currentPoint*n._distance,e);if(i!==n.currentPoint){n._triggerEvent("fsmoveend",true,false);n._triggerEvent("fspointmove",true,false)}};f.prototype._setX=function(t,e){var i=this;i.currentX=t;if(r.cssAnimation){i.element.style[n.transform]=i._getTranslate(t)}else{if(i.animation){i._animate(t,e||i.transitionDuration)}else{i.element.style.left=t+"px"}}};f.prototype._touchStart=function(t,e){var n=this;if(n.disableTouch||n.scrolling||i){return}n.element.addEventListener(u.move[e],n,false);document.addEventListener(u.end[e],n,false);var o=t.target.tagName;if(e==="mouse"&&o!=="SELECT"&&o!=="INPUT"&&o!=="TEXTAREA"&&o!=="BUTTON"){t.preventDefault()}if(r.cssAnimation){n._setStyle({transitionDuration:"0ms"})}else{n.animation=false}n.scrolling=true;n.moveReady=false;n.startPageX=l(t,"pageX");n.startPageY=l(t,"pageY");n.basePageX=n.startPageX;n.directionX=0;n.startTime=t.timeStamp;n._triggerEvent("fstouchstart",true,false)};f.prototype._touchMove=function(t,e){var n=this;if(!n.scrolling||i){return}var r=l(t,"pageX");var s=l(t,"pageY");var u;var f;if(n.moveReady){t.preventDefault();u=r-n.basePageX;f=n.currentX+u;if(f>=0||f<n._maxX){f=Math.round(n.currentX+u/3)}n.directionX=u===0?n.directionX:u>0?-1:1;var c=!n._triggerEvent("fstouchmove",true,true,{delta:u,direction:n.directionX});if(c){n._touchAfter({moved:false,originalPoint:n.currentPoint,newPoint:n.currentPoint,cancelled:true})}else{n._setX(f)}}else{var h=m(n.startPageX,n.startPageY,r,s);if(h.z>o){if(g(h)>a){t.preventDefault();n.moveReady=true;n.element.addEventListener("click",n,true)}else{n.scrolling=false}}}n.basePageX=r};f.prototype._touchEnd=function(t,e){var n=this;n.element.removeEventListener(u.move[e],n,false);document.removeEventListener(u.end[e],n,false);if(!n.scrolling){return}var r=-n.currentX/n._distance;r=n.directionX>0?Math.ceil(r):n.directionX<0?Math.floor(r):Math.round(r);if(r<0){r=0}else if(r>n._maxPoint){r=n._maxPoint}if(Math.abs(n.startPageX-n.basePageX)<n.threshold){r=n.currentPoint}n._touchAfter({moved:r!==n.currentPoint,originalPoint:n.currentPoint,newPoint:r,cancelled:false});n.moveToPoint(r)};f.prototype._click=function(t){var e=this;t.stopPropagation();t.preventDefault()};f.prototype._touchAfter=function(t){var e=this;e.scrolling=false;e.moveReady=false;setTimeout(function(){e.element.removeEventListener("click",e,true)},200);e._triggerEvent("fstouchend",true,false,t)};f.prototype._setStyle=function(t){var e=this;var n=e.element.style;for(var r in t){h(n,r,t[r])}};f.prototype._animate=function(t,e){var n=this;var r=n.element;var i=+new Date;var o=parseInt(r.style.left,10);var a=t;var s=parseInt(e,10);var u=function(t,e){return-(t/=e)*(t-2)};if(n.timerId){clearInterval(n.timerId)}n.timerId=setInterval(function(){var t=new Date-i;var e,f;if(t>s){clearInterval(n.timerId);n.timerId=null;f=a}else{e=u(t,s);f=e*(a-o)+o}r.style.left=f+"px"},10)};f.prototype.destroy=function(){var t=this;s.forEach(function(e){t.element.removeEventListener(u.start[e],t,false)})};f.prototype._getTranslate=function(t){var e=this;return e.use3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)"};f.prototype._triggerEvent=function(t,e,n,r){var i=this;var o=document.createEvent("Event");o.initEvent(t,e,n);if(r){for(var a in r){if(r.hasOwnProperty(a)){o[a]=r[a]}}}return i.element.dispatchEvent(o)};function l(t,e){return t.changedTouches?t.changedTouches[0][e]:t[e]}function c(e){return d(e,function(e){return t.style[e]!==undefined})}function h(t,r,i){var o=n[r];if(o){t[o]=i}else if(t[r]!==undefined){n[r]=r;t[r]=i}else{d(e,function(e){var o=p(e)+p(r);if(t[o]!==undefined){n[r]=o;t[o]=i;return true}})}}function v(n){if(t.style[n]!==undefined){return n}else{var r;d(e,function(e){var i=p(e)+p(n);if(t.style[i]!==undefined){r="-"+e+"-"+n;return true}});return r}}function p(t){return t.charAt(0).toUpperCase()+t.substr(1)}function d(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n)){return true}}return false}function m(t,e,n,r){var i=Math.abs(t-n);var o=Math.abs(e-r);var a=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));return{x:i,y:o,z:a}}function g(t){var e=t.y/t.z;var n=Math.acos(e);return 180/(Math.PI/n)}return f});return e.exports}();var v=function(){var t={},e={exports:t};var n=u;var r=c;var i=h;var o=null;var a=n.extend({options:{items:".menuitems>li",subitems:".subitems>li",menuitems:".menuitems",prevBtn:".glyph-prev",nextBtn:".glyph-next",expandBtn:".glyph-expand",otherMenuitems:".other-menuitems",activeClass:"current",isMobile:false,stepMove:0,stepMax:0},initialize:function(t,e){t=this.element=$(t);this.menuHeight=t.outerHeight();this.switchover=t.attr("data-switchover");this.direction=t.attr("data-valign");this.needFixed=/^(?:top|bottom)$/i.test(this.direction)&&!t.hasClass("secondary");this.slideMode=t.hasClass("pointing")&&!e.isMobile;if(this.slideMode)e.stepMove=e.stepMax=7;this.setOptions(e);this.prepare()},setupElements:function(){var t=this.element;var e=this.options;var n,r;for(n in e){r=e[n];if(typeof r==="string"&&r.indexOf(".")===0)this["$"+n]=t.find(r)}},prepare:function(){this.setupElements();this.setCache();var t;if(this.switchover==="common"){t=this.$items.find("a").map(function(){var t=this.getAttribute("href");if(f(t))return $(t)[0]})}this.targets=$(t);if(!s())this.$menuitems.addClass("non-touch");var e=this.element;e.css("height",this.menuHeight);e.parent().not("body").css("height",this.menuHeight);l.call(this);this.bound()},attach:function(){var t=this.options;var e=t.stepMove;if(t.isMobile){this.$otherMenuitems.find("ul").append(this.$items.clone().removeAttr("style").removeClass(t.activeClass));this.$subitems.parent().hide();this.setupDropdown();this.snap()}if(this.slideMode){this.$nextBtn.on("click",this.moveItem.bind(this,e));this.$prevBtn.on("click",this.moveItem.bind(this,-e))}else{this.$nextBtn.hide();this.$prevBtn.hide()}},delay:function(t,e,n){clearTimeout(this[t]);this[t]=setTimeout(e.bind(this),n||50)},bound:function(){this.attach();this.boundClick();this.boundScroll();this.bindHashChange();this.setCurrent()},setupDropdown:function(){var t=this;var e=this.$expandBtn;e.on("click",function(n){n.stopPropagation();t.dropdown(!e.hasClass("glyph-collapsed"))});this.$otherMenuitems.on("click",function(t){t.stopPropagation()}).on("click","ul>li",function(){var e=$(this).find("a")[0];if(!t.isCurrent(this)&&typeof e.click==="function")e.click()}).on("click","ul>li>a",function(e){t.dropdown();e.stopPropagation()});$("body").on("click",this.dropdown.bind(this,false))},isCurrent:function(t){return $(t).hasClass(this.options.activeClass)},getIndex:function(t){t=t||this.$items.filter("."+this.options.activeClass);return $(t).index()},showTarget:function(t){this.setCurrent(true);this.targetToAnchor(t)},boundClick:function(){var t=this;var e=this.switchover;this.$items.on("click",function(){var e=$(this).find("a")[0];if(!t.isCurrent(this)&&typeof e.click==="function")e.click()}).on("click","a",function(n){var r=$(this).parent("li");var i=t.getTarget(r);if(t.isCurrent(r)){n.preventDefault();return}t.setCurrentItem(r);if(i){if(e==="common"){n.preventDefault();t.showTarget(i)}else if(e==="anchor"){t.targetToAnchor(i,r.index())}}n.stopPropagation()})},snap:function(){var t=this.count();var e=this.options.stepMax;if(!this.options.isMobile||t<=e)return;var n=$(window).width();var r=this.$menuitems;var o=r.width();var a=this.$expandBtn.width()||o*.1;var s=(n-a)/e;r.css("width",s*t);this.$items.css({width:s,"min-width":s,margin:0});this.flipsnap=i(r[0],{maxPoint:t-e,distance:s})},setCurrentItem:function(t){var e=this.options.activeClass;var n=$(t);n.addClass(e);n.siblings().removeClass(e);this.targets.hide().eq(n.index()).show()},getCurrentItem:function(t){var e=this.$items;return t==null?e.filter(this.options.activeClass):e.eq(t)},targetToAnchor:function(t,e){if(!this.needFixed)return;if(o)o=clearInterval(o);var n=$(t);var r=$("html,body");var i=n.offset().top;var a=this.direction==="top"?this.menuHeight:0;if(!e)e=1;if(this.options.isMobile)e=5;o=setInterval(function(){var t=n.offset().top-a;if(i!==t){i=t;r.scrollTop(t)}},50);setTimeout(function(){o=clearInterval(o)},e*300)},boundScroll:function(){if(!this.needFixed)return;var t=this.direction;var e=t==="top";var n=t==="bottom";var r="fixed-"+t;var i=$(window);var a=i.height();var s=this.element;var u=s.parent();var f=s.offset().top+this.menuHeight;var l=f+a,c;if(u.is("body")){u=s.prev();c=u.height()+u.offset().top}var h,v=this;i.on("scroll",function(){var t=i.scrollTop();var f=v.cache.target;var p=c||u.offset().top;var d=Infinity;if(f){d=f.offset().top+f.height()}if(e){if(!h&&t>=p&&t<=d){h=true}else if(h&&(t<p||t>d)){h=false}}else if(n){if(!h&&t>=l&&t<=d+a){h=true}else if(h&&t<l||t>d+a){h=false}}if(h!=null)s.toggleClass(r,h);if(o)return;if(v.switchover==="anchor"){v.delay("highlight",function(){this.setCache();this._onMenuHighlight()})}})},_onMenuHighlight:function(){var t=$(window).scrollTop();var e=n(this.cache.offsets,t);this.setCurrent(this.cache.idx[e]);if(this.$subitems.size()){this.setCurrentItem(this.$subitems.eq(n(this.cache.subOffsets,t)))}function n(t,e){var n=0;for(var r=0,i=t.length;r<i;r++){if(isNaN(t[r]))continue;if(e>=t[r]-1)n=r}return n}},dropdown:function(t){this.$expandBtn.toggleClass("glyph-collapsed",t);this.$otherMenuitems.toggleClass("expand",t);if(t){$("html, body").animate({scrollTop:this.element.offset().top})}},checkVisibleLen:function(t){var e=this.count();if(e>t)e=t;if(e<0)e=0;return e},count:function(){return this.$items.size()},moveItem:function(t){var e=this.currentIndex+t;e=this.checkVisibleLen(e);this.pagination(e);this.currentIndex=e},pagination:function(t){var e=this.options.isMobile;if(!e&&!this.slideMode)return;var n=this.options.stepMax;var r=Math.floor(n/2);var i=this.count();var o,a;if(n>i)n=i;if(e&&this.flipsnap){t=t>=r?t-r:0;this.flipsnap.moveToPoint(t)}else{o=t-r;if(o<0)o=0;if(i-o<n)o=i-n;a=o+n;this.$items.hide().filter(function(t){return t>=o&&t<a}).show();this.$nextBtn.toggle(a<i);this.$prevBtn.toggle(o>0)}},getTarget:function(t){var e=$(t).find("a").attr("href");if(f(e)){var n=$(e);if(n.size())return n;
}},setCache:function(){if(!this.needFixed)return;var t=this.cache={target:null,offsets:[],subOffsets:[],idx:[]};var e=this;var n=this.direction==="top"?this.menuHeight:0;this.$items.each(function(){var r=e.getTarget(this);if(r){var i=r.offset().top-n;t.target=r;t.offsets.push(i);t.idx.push(r.selector)}});this.$subitems.each(function(){var r=e.getTarget(this);if(r){var i=r.offset().top-n;t.target=r;t.subOffsets.push(i)}})},setCurrent:function(t){var e=this.getIndex();e=this.checkVisibleLen(e);t=t||location.hash;this.delay("setCurrentId",function(){var n=this;var r=n.element[0];var i=true;t&&this.$items.each(function(o){var a=n.getTarget(this);var s=a&&a.selector;if(s===t){if(f(s))a=a[0];if(a.nodeType===1&&r.compareDocumentPosition){if(r.compareDocumentPosition(a)<4)i=false}if(i){n.pagination(o);n.setCurrentItem(this);e=o}return false}});if(!t)this.setCurrentItem(this.getCurrentItem(e));this.currentIndex=e;this.pagination(e)},300)},bindHashChange:function(){var t=this;$(window).on("hashchange",function(e){setTimeout(function(){t.setCurrent()},300)})}});function s(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function f(t){return/^#.+$/.test(t)}function l(){if(!r.ltIE10||this.element.hasClass("titular"))return;var t=this.menuHeight;this.$items.each(function(){var e=$(this).find("a");e.css("margin-top",(t-e.height())/2)})}$(function(){var t=$(window).width();var e=t<=760;var n,r;if(e){r=3;n=1}var i={isMobile:e,stepMove:n,stepMax:r};$(".prime-menu").each(function(){new a(this,i)})});return e.exports}()})();